{% extends "layout2.html" %}

      <meta name="viewport" content="initial-scale=1, width=device-width">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

{% block body %}
<script>
function validate() {
   if(document.getElementById("pic").value != "") {
        let label = document.getElementById("pic_label")
        label.style.background = "green";
   }
}
</script>
<link rel="stylesheet" href="/static/posts.css">
<script src="/static/like.js"></script>

<a class="a" href="/profile/{{current_post[0]}}" style="display: inline-flex">
    <img src="/static/favicon.ico" style="width: 50px; border-radius: 25px; margin-top: 20px; margin-left: 0px">
    <div style="margin-left: 10px; margin-top: 30px;">
        {{current_post[0]}}
    </div>
</a><br>
<div class="div">
     {{current_post[1]}}
</div>
{% if current_post[3] == "True" %}
     <img src="/static/{{current_post[4]}}.jpg" class="main_img">
{% endif %}
<style>
    label {
          padding: 10px;
          background-color:  rgb(239, 237, 237);
          border-radius: 10px;
     }
     #label_cont{
          margin: 30px 0px 20px 0px;
     }
</style>

<form action="/comment/{{current_post[2]}}" style="margin-bottom: 30px; margin-top: 40px;" method="post" enctype="multipart/form-data">
     <center>
          <textarea class="btn btn-outline-light" name="comment" maxlength="1000" style="padding: 10px; width:500px; height: 200px; border-radius: 10px;"></textarea>
     </center>
     <center>
          <input type="file" id="pic" onchange="validate()" name="pic" accept="image/*" value="" hidden>
          <div id="label_cont">
               <label for="pic" id="pic_label">Upload Picture &#128206;</label>
          </div>
     </center>
     <center>
          <button type="submit" id='button' onclick="block()" class="btn btn-outline-light" data-mdb-ripple-color="dark" style="font-size: 60px; color: black; border: 0ch; margin-bottom: 2%; border-radius: 10px 10px 10px 10px;  width: 200px; height: 50px;">Comment</button>
     </center>
</form>

{% for i in comments %}
<div class="name_container">
    <a class="a" href="/profile/{{i[2]}}" style="display: inline-flex">
        <img src="/static/favicon.ico" style="width: 50px; border-radius: 25px; margin-top: 20px; margin-left: 0px">
        <div style="margin-left: 10px; margin-top: 30px;">
            {{i[2]}}
        </div>
    </a>
</div>
     <div class="div">
          {{i[3]}}
     </div>
     {% if i[8] == "True" %}
          <img src="/static/{{i[1]}}.jpg" class="c_img">
     {% endif %}
     <div class="container">
          <p class="react" value="{{i[6]}}" id="{{i[1]}}" onclick="like({{i[1]}})">{{i[5]}}</p>
          <a href="/comment/{{i[1]}}"><p class="comment">{{i[7]}} ðŸ’¬</p></a>
     </div>
{% endfor %}
{% endblock %}