{% extends "layout.html" %}

      <meta name="viewport" content="initial-scale=1, width=device-width">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
{% block body %}
<script>
     document.addEventListener('DOMContentLoaded', function(){
          let a = 1
          let url = window.location.origin
          let request = new XMLHttpRequest();
          let body = document.querySelector('#body');
          request.open("GET", url + "/posts/open");
          request.send();
          request.onload = () => {
               if (request.status === 200) {
                    let body = document.querySelector('#body');
                    for (let obj of JSON.parse(request.response)) {
                         var name = document.createElement('a');
                         name.textContent = obj[1];
                         name.setAttribute('href', "/profile/" + obj[1])
                         body.appendChild(name)
                         var tag = document.createElement('div');
                         tag.textContent = obj[2];
                         tag.setAttribute('class', 'div')
                         body.appendChild(tag);
                         var container = document.createElement('div');
                         container.setAttribute('class', 'container')
                         var react = document.createElement('p')
                         react.setAttribute('class', 'react')
                         react.setAttribute('style', 'inline')
                         react.textContent = '❤️';
                         container.appendChild(react)
                         var comment = document.createElement('p')
                         comment.setAttribute('class', 'comment')
                         comment.setAttribute('style', 'inline')
                         comment.textContent = 'Comments';
                         container.appendChild(comment)
                         body.appendChild(container)

                         a+=1
                    }
               }
          }
     });
</script>
<style>
     .container{
          display: flex;
     }
     html {
          scroll-behavior: smooth;
     }
     a{
          margin-left: 55px;
     }
     .div{
          display: block;
          background-color: rgb(212, 214, 215);
          width: 400px;
          height: auto;
          min-height: 50px;
          margin-left: 50px;
          border-top-right-radius: 20px;
          border-top-left-radius: 20px;
          padding: 10px 10px 10px 10px;
          text-align: center;
          font-size: 20px;
          word-wrap: break-word;
     }
     .react .comment{
          display: inline;
     }
     .react{
          margin-left: 185px;
          margin-bottom: 30px;
          width: 195px;
          height: 50px;
          padding: 5px 5px 5px 5px;
          text-align: center;
          display: block;
          background-color: rgb(27, 153, 207);
          border-bottom-left-radius: 20px;
     }
     .comment{
          align-self: center;
          margin-left: 10px;
          margin-bottom: 30px;
          width: 195px;
          height: 50px;
          padding: 5px 5px 5px 5px;
          text-align: center;
          display: block;
          background-color: rgb(162, 162, 162);
          border-bottom-right-radius: 20px;
     }
 </style>
 <div>
     <form action="/posts/new">
          <button type="submit" style="border-radius: 10px; margin-left: 20%; height: 40px; border-color: rgb(224, 227, 229);">Create New Post</button>
     </form>
 </div>
<center>
    <div id="body" style="font-size: 40px !important;">

    </div>
</center>
{% endblock %}